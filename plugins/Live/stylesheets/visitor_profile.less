// width & height constants for the visitor profile
@visitor_profile_width = 1149;
@visitor_profile_map_height = 280;
@visitor_profile_map_pad_top = 21;
@visitor_profile_map_pad_bottom = 20;

@visitor_profile_aggregate_section_height = 116;
@visitor_profile_aggregate_section_pad_top = 5;

@visitor_profile_visits_title_height = 42;
@visitor_profile_visits_title_pad_top = 8;
@visitor_profile_visits_title_pad_bottom = 10;

// intermediate values
@visitor_profile_2nd_row_2nd_col_total_height =
    @visitor_profile_map_height + @visitor_profile_map_pad_top + @visitor_profile_map_pad_bottom +
    2 * (@visitor_profile_aggregate_section_height + @visitor_profile_aggregate_section_pad_top);
@visitor_profile_visits_title_total_height = @visitor_profile_visits_title_height + @visitor_profile_visits_title_pad_top +
    @visitor_profile_visits_title_pad_bottom;

@visitor_profile_visits_list_height =  @visitor_profile_2nd_row_2nd_col_total_height - @visitor_profile_visits_title_total_height;

.visitor-profile {
    position:relative;
    width:unit(@visitor_profile_width, px);
    border:1px solid #a19e96;
    border-radius:5px;
    background:url(../images/visitor_profile_background.jpg) repeat;
    box-shadow:5px 5px 5px rgba(0,0,0,0.22);

    h1 {
        font-size:18px;
        color:#7e7363;
        text-shadow:0 1px 0 rgba(255,255,255,1);
        margin:9px 0 0 0;
        padding:0;

        a {
            font-size:12px;
            margin-left:3px;
        }
    }

    span, strong {
        display:inline-block;
        font-size:14px;
        color:#5e5e5c;
        line-height:19px;
        padding-left:4px;
    }

    p {
        font-size:13px;
        color:#5e5e5c;
        line-height:20px;
    }

    h2 {
        display:inline-block;
        font-size:14px;
        margin:0 0 0 5px;
        padding:0;
        font-weight:bold;
        color:black;
    }
}

.visitor-profile-close {
    position:absolute;
    right:-17px;
    top:-16px;
    height:35px;
    width:35px;
    background:url(../images/visitor_profile_close.png) no-repeat;
}

.visitor-profile a {
    text-decoration:none;
    color:#255792;
}

.visitor-profile > div {
    width:100%;
}

.visitor-profile-info {
    height:auto;
    border-top:2px solid #f6f6f6;
    border-bottom:1px solid #d1cec8;
    border-radius:5px 5px 0 0;
    box-shadow:inset 0 25px 15px -10px #e0e0e0, inset 0 -25px 15px -10px #e0e0e0;

    > div { // row
        border-bottom:1px solid #d1cec8;

        > div { // columns
            width:unit(@visitor_profile_width / 2, px);
            vertical-align:top;
            height:auto;
            display:inline-block;
            border-right:1px solid #d1cec8;
        }

        > div:first-child { // first column
            border-left:none;
            margin:0 -4px 0 0;
        }

        > div:last-child { // last column
            border-bottom:none;
            margin:0 0 0 -4px;
        }
    }
}

.visitor-profile-map,.visitor-profile-important-visits {
    border-bottom:1px solid #d1cec8;
}

.visitor-profile-avatar > div {
    position:relative;
    float:left;
    min-height:145px;
    margin-right:15px;
    padding:12px 0 4px;
}

.visitor-profile-avatar > div:first-child {
    width:166px;
    margin-right:0;
    padding-left:16px;

    > .visitor-profile-image-frame {
        width:149px;
        height:154px;
        background:url(../images/avatar_frame.png) no-repeat;

        > img { // avatar image
            width:122px;
            height:120px;
            margin:11px 0 0 12px;
        }
    }

    > img { // paperclip image
        position:absolute;
        top:-8px;
        left:3px;
        z-index:2;
    }
}

.visitor-profile-avatar > div:last-child {
    margin-right:0;
}

.visitor-profile-extra-cvars {
    border-top: 1px solid #d1cec8;
}

.visitor-profile-more-info {
    height:18px;
    border-top:1px solid #fff;
    border-radius:0 0 5px 5px;
    text-align:center;
    padding:20px 0 13px;

    > a {
        font-size:14px;
        text-decoration:none;
        color:#255792;
        text-shadow:0 1px 0 rgba(255,255,255,1);
    }
}

.visitor-profile-latest-visit-column {
    padding-top:6px;
    display:inline-block;
    vertical-align:top;
}

.visitor-profile-browser {
    margin-left: 5px;
    width:75px;
    display:inline-block;
}

.visitor-profile-os {
    width:75px;
    display:inline-block;
}

.visitor-profile-latest-visit-column:first-child {
    margin-right:9px;
}

.visitor-profile-avatar ul {
    width:178px;
}

.visitor-profile-avatar ul li {
    display:inline-block;
    height:24px;
    border-bottom:1px solid #d1cec8;
    width:100%;
}

.visitor-profile-avatar ul li:last-child {
    border-bottom:none;
}

.visitor-profile-avatar ul li:first-child {
    border-bottom:1px solid #d1cec8; // make sure there is a border if only one item is shown in the list
}

.visitor-profile-map {
    padding:unit(@visitor_profile_map_pad_top, px) 2px unit(@visitor_profile_map_pad_bottom, px) 21px;

    .dataTableFeatures {
        display:none;
    }
}

.visitor-profile-map > div {
    border-radius:2px;
    background-color:#fff;
    width:532px;
    height:unit(@visitor_profile_map_height, px);
}

.visitor-profile-summary,.visitor-profile-important-visits {
    overflow:hidden;
    height:unit(@visitor_profile_aggregate_section_height, px);
    padding:unit(@visitor_profile_aggregate_section_pad_top, px) 0 0 22px;
}

.visitor-profile-summary > div {
    margin-top:6px;
}

.visitor-profile-summary strong {
    padding-left:0;
}

.visitor-profile-important-visits {

    > div {
        float:left;
        width:265px;
        height:100%;

        > div {
            margin-top:13px;
        }
    }

    span {
        padding-left:0;
    }
}

.visitor-profile-location {
    padding:10px 0 4px 19px;

    img {
        margin-top:-12px;
    }
}

.visitor-profile-pages-visited {
    height:unit(@visitor_profile_visits_title_height, px);
    overflow-y:auto;
    position:relative;
    margin-right:10px;
    border-bottom:none!important;
    padding: unit(@visitor_profile_visits_title_pad_top, px) 18px unit(@visitor_profile_visits_title_pad_bottom, px) 13px;

    h1 {
        margin-left:6px;
    }
}

.visitor-profile-visits-container {
    height:unit(@visitor_profile_visits_list_height, px);
    overflow-y:auto;
    position:relative;
    margin-right:10px;
    border-bottom:none!important;
    padding:0 18px 0 13px;

    ol {
        > li {
            display:block;
            font-size:12px;
            font-weight:700;
            line-height:25px;
            padding:0 0 10px 13px;

            span {
                font-size:13px;
                font-weight:700;
                line-height:25px;
                padding-left:0;
            }
        }
    }

    ol.visitor-profile-visits > li {
        margin-left:0;
    }

    ol.visitor-profile-actions {
        counter-reset:item;
        list-style-type:none;

        > li:before {
            content:counter(item) "  ";
            counter-increment:item;
        }
    }

    ol li ol {
        border-top:1px solid #d1cec8;
    }

    ol > li > ol > li {
        margin-left:-12px;
    }

    ol li ol li {
        display:block;
        color:#5e5e5c;
        font-size:13px;
        line-height:22px;
        padding-top:1px;
        padding-bottom:1px;
    }

    ol li ol li {
        padding-bottom:4px;
    }

    ol li ol li a {
        display:inline-block;
    }

    ol > li ol li span {
        padding-left:4px;
    }

    ol > li ol li .action-list-url {
        margin-left:15px;
        line-height:14px;
        display:inline-block;
    }

    ol > li ol li img {
        margin-left:7px;
    }

    // overrides for _actionsDetails styles
    strong {
        font-size:13px;
        line-height:25px;
    }
}

.visitor-profile-date {
    float:right;
    font-size:13px;
    line-height:26px;
}

.visitor-profile-fog {
    height:25px;
    width:546px;
    position:absolute;
    bottom:0;
    right:28px;
    background:url(../images/visitor_profile_gradient.png) repeat-x;
}

// popup css
.visitor-profile-popup {
    width: 1151px;
    height: auto;
    padding: 0;

    > .ui-dialog-titlebar {
        display: none;
    }

    > #Piwik_Popover {
        padding: 0;
        margin: 0;
        overflow: visible;
    }
}

span.visitor-profile-goal-name {
    font-weight:bold;
    font-style:italic;
    font-size:13px;
}

.visitor-profile-see-more-cvars {
    text-align:center;

    > a {
        font-size:11px;
        display:inline-block;
        color:#5e5e5c;
    }
}

.visitor-profile-visit-title {
    cursor:pointer;
}

.visitor-profile-avatar .loadingPiwik {
    padding:0;
    margin:0;
}

.visitor-profile-visits-info {
    position: relative;
}

.visitor-profile-visits-info > .loadingPiwik {
    position: absolute;
    top: 0;
    left: 2px;
    width: 545px;
    height: unit(@visitor_profile_2nd_row_2nd_col_total_height - 16, px);
    background-color: rgba(0,0,0,0.3);
    z-index: 2;

    > div {
        display:table-cell;
        vertical-align:middle;
        text-align:center;

        > div {
            display:inline-block;
            color:white;
            background-color: rgba(0,0,0,0.7);
            padding: 4px 8px;
        }
    }
}